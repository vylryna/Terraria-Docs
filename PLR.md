# Terraria .PLR file (Player)

> NOTE: This is only for `.plr` files generated in Terraria PC 1.4.3.6, 1.4.4.9 will be documented later  

Terraria players are stored in `.plr` files, usually located in a "Players" folder in the game's save directory. They contain nearly everything about a player, including inventory, looks, buffs, and certain flags. The only thing that isn't saved in the file are world-specific maps, which are instead stored in a folder based on the player's name.

> • For Windows, the save directory is `%UserProfile%\Documents\My Games\Terraria\Players`  
> • For Linux, the save directory is `~/.local/share/Terraria/Players`  

`.plr` files are normally encrypted in AES-128-CBC, the key (and IV) being `68-00-33-00-79-00-5F-00-67-00-55-00-79-00-5A-00` (or `h3y_gUyZ` in little-endian unicode)  
The key is also available in the root of this repository as `key.bin`

## Player Values [0x00..0x??]

> NOTE: The values seem to be in little-endian from testing, but it could just be a Windows thing.  

| Value                    | Length     | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ------------------------ | ---------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Player Version           | 0x1        | Defines what version the player file is. 1.4.3.6 should be `F8`                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Player Metadata          | 0x17       | Not sure what the metadata contains yet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Player Name              | Varies     | The first byte defines how long the string is. The next X bytes (defined in the length) store the string in UTF-8. (max string length is 20, so the Player Name could take up a max of 21 bytes)                                                                                                                                                                                                                                                                                                                             |
| Difficulty               | 0x1        | The difficulty the player is set as. 0 is Classic, 1 is Expert, 2 is Master, and 3 is Journey.                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Play Time Ticks          | 0x8        | The character's play time in ticks `(HINT: 1 millisecond = 10000 ticks)`                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Hair                     | 0x4        | Defines the player's hairstyle ID (zero-based). See all hairstyles and IDs [here](https://terraria.wiki.gg/wiki/Hairstyles).                                                                                                                                                                                                                                                                                                                                                                                                 |
| Hair Dye                 | 0x1        | Defines the player's hair dye ID (zero-based). See all hair dyes [here](https://terraria.wiki.gg/wiki/Hair_Dyes#Types).                                                                                                                                                                                                                                                                                                                                                                                                      |
| Accessory Visibility     | 0x1        | Each bit defines whether or not an accessory is visible. `0` = Visible / `1` = Hidden<br/>`Bit 0`: Accessory 1<br/>`Bit 1`: Accessory 2<br/>`Bit 2`: Accessory 3<br/>`Bit 3`: Accessory 4<br/>`Bit 4`: Accessory 5<br/>`Bit 5`: Accessory 6 [Expert/Master Mode only]<br/>`Bit 6`: Accessory 7 [Master Mode only]<br/>`Bit 7`: Unknown                                                                                                                                                                                       |
| Accessory Visibility #2  | 0x1        | Continuation of the previous byte. `0` = Visible / `1` = Hidden<br/>`Bit 0`: Unknown<br/>`Bit 1`: Unknown<br/>`Bits 2-7`: Unused                                                                                                                                                                                                                                                                                                                                                                                             |
| Miscellaneous Visibility | 0x1        | Each bit defines whether or not a miscellaneous accessory is visible. Only the first two bits are used. `0` = Visible / `1` = Hidden<br/>`Bit 0`: Pet<br/>`Bit 1`: Light Pet<br/>`Bit 2-7`: Unused                                                                                                                                                                                                                                                                                                                           |
| Clothes/Gender           | 0x1        | Defines the character's clothing and gender selection. Values 0-4 are male, and 5-9 are female.                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Current Health           | 0x4        | How much health the player currently has.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Max Health               | 0x4        | The maximum amount of health the player has. Increases with Life Crystals or Life Fruit.<br/>`(Hard-capped at 500.)`                                                                                                                                                                                                                                                                                                                                                                                                         |
| Current Mana             | 0x4        | How much mana the player currently has.<br/>`(Hard-capped at 400.)`                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Max Mana                 | 0x4        | The maximum amount of mana the player has. Increases with Mana Crystals.<br/>`(Hard-capped at 200. Buffs that increase maximum mana don't get stored here, so the current mana could be higher than the max mana.)`                                                                                                                                                                                                                                                                                                          |
| Has Extra Accessory      | 0x1(bool)  | If a player has used a Demon Heart, increasing their maximum accessory slots by 1.                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Unlocked Biome Torches   | 0x1(bool)  | If a player has unlocked biome torches by surviving the Torch God event.                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Is Using Biome Torches   | 0x1(bool)  | If a player has biome torches toggled or not.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Can use DD2 Sentries     | 0x1(bool)  | If the player is allowed to use DD2 sentries outside of the event, set to true when the event has been successfully cleared.                                                                                                                                                                                                                                                                                                                                                                                                 |
| Tax Money                | 0x4        | The amount of money the Tax Collector has saved up for the player (in copper coins).                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Hair Colour              | 0x3        | Colour of the player's hair, 3 bytes make up an RGB value.                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Skin Colour              | 0x3        | Colour of the player's skin, 3 bytes make up an RGB value.                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Eye Colour               | 0x3        | Colour of the player's eyes, 3 bytes make up an RGB value.                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Shirt Colour             | 0x3        | Colour of the player's shirt, 3 bytes make up an RGB value.                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Undershirt Colour        | 0x3        | Colour of the player's undershirt, 3 bytes make up an RGB value.                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Pants Colour             | 0x3        | Colour of the player's pants, 3 bytes make up an RGB value.                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Shoe Colour              | 0x3        | Colour of the player's shoes, 3 bytes make up an RGB value.                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Armor + Accessories      | 0x64 (100) | There are 20 entries in total, the first 3 being the player's armour, the next 7 being the player's accessories, the next 3 being the player's social armour, and the last 7 being the player's social accessories. Each entry takes up 5 bytes.<br/>`Item ID (0x4)` - The item ID. See all item IDs [here](https://terraria.wiki.gg/wiki/Item_IDs#ID_list).<br/>`Item Modifier (0x1)` - The item prefix/modifier. See all modifier IDs [here](https://terraria.wiki.gg/wiki/Prefix_IDs).                                    |
| Armor/Accessories Dyes   | 0x32 (50)  | There are 10 entries in total, the first 3 being the player's armour dyes, and the last 7 being the player's accessory dyes. Each entry takes up 5 bytes.<br/>`Item ID (0x4)` - The dye item ID. See all dyes [here](https://terraria.wiki.gg/wiki/Item_IDs#ID_list). (Item IDs are shown below the dyes, if an ID isn't shown, then click on the name of the dye and it should be shown there)<br/>`Item Modifier (0x1)` - The item prefix/modifier. See all modifier IDs [here](https://terraria.wiki.gg/wiki/Prefix_IDs). |
